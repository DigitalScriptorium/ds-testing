# find manuscripts by subject
SELECT ?ms ?msLabel ?subject ?subjectLabel
WHERE {
# bind query variables
  BIND(p:P8 AS ?subjectAsRecorded).
  BIND(pq:P22 AS ?hasSubject).
  BIND(wdt:P49 AS ?hasExternalURI).
# statement: manuscript has subject recorded as literal string value
  ?ms ?subjectAsRecorded ?subjectString .
# statement: string value has qualifier subject authority value
  ?subjectString ?hasSubject ?subject .
  
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE]". }
  }
ORDER by ?subjectLabel
